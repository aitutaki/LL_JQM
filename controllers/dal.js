var DALResponse = function(status, msg, data) {
	this.status = status;
	this.message = msg;
	this.data = data;
};

var DAL = (function() {
	var _dal = {};
	var _url = "http://leagueligh1.eweb801.discountasp.net/api/";
	var _isDevice = false; //(typeof device != "undefined" || navigator.appVersion.indexOf("WOW64") > -1);

	function _noconn()
	{
		UTILS.msgbox("You do not have a good enough signal to complete the request. Please try again later.", "No Connection");
	}

	function _svc(method, data, cb)
	{
		cb();
	}

	_dal.onError = function(){};

	_dal.search = function(data, cb)
	{
		var results = [
			{
				id: 1,
				photo: "lib/img/dummyprofile.jpg",
				name: "Tom Crawley"
			},
			{
				id: 2,
				photo: "http://1.bp.blogspot.com/-pRzx6PkI3K0/UKQsskvdbZI/AAAAAAAAAFI/iMbGPwDQsak/s1600/15.jpg",
				name: "Ryan Giggs"
			},
			{
				id: 3,
				photo: "http://t2.gstatic.com/images?q=tbn:ANd9GcTPapougGbMuO6B8Itg7hOwET4UuxDEAi7k8hESwCbHoBYGugKd",
				name: "David Beckham"
			}
		];
		var resp = new DALResponse(200, "ok", results);
		cb(resp);
	}

	_dal.login = function(uid, pwd, cb)
	{
		if (!_isDevice) return cb(new DALResponse(200, "ok", "true"));
		$.ajax({
			url: _url + "login",
			contentType: "application/json",
			method: "POST",
			dataType: "json",
			data: JSON.stringify({
				username: uid,
				password: pwd
			}),
			success: function(data, textStatus, jqHXR) {
				cb( new DALResponse(200, "ok", data));
			}
		});
	};

	_dal.getAffiliatedLeagues = function(cb)
	{  
		if (!_isDevice) return cb(new DALResponse(200, "ok", [{"leagueID":1,"leagueName":"Lytham St Annes & District Snooker League","registeredOn":"2004-09-01T12:00:00","countryName":"England","countryPic":"flag_england.png","active":true,"authOn":"2012-04-22T16:21:20.383","affectedByWeather":false,"sportID":1,"sportName":"Snooker","leagueSexID":3,"leagueGroupID":18,"leagueLevelID":1,"leagueSexName":"Mixed","leagueGroupName":"Adult","leagueLevelName":"Amateur/Recreational","preferredCulture":"en","regSeasons":9,"totalClubs":26,"totalTeams":54,"totalPlayers":999,"img":"2013/04/20/lsa.png","usesHandicaps":1}]));
		$.ajax({
			url: _url + "affiliations",
			method: "GET",
			success: function(data, textStatus, jqHXR) {
				cb( new DALResponse(200, "ok", data));
			}
		});
	};

	_dal.getClubs = function(leagueID, text, cb)
	{
		var url = _url + "leagues/" + leagueID + "/clubs?top=5000";

		if (!_isDevice) return cb(new DALResponse(200, "ok", [{"clubID":2,"clubName":"Ansdell Social Club","clubNameAbbrev":"Ansdell","latitude":"53.74265793788488","longitude":"-2.9922938346862793","clubTel":"01253 734135","parkingRating":2,"openingTimes":"","clubAddress":"Woodlands Road, Ansdell, Lytham St Annes, Lancashire, England, FY8 4BX","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":3},{"clubID":26,"clubName":"Blackpool No.1 Club","clubNameAbbrev":"Blackpool No.1","latitude":"53.804329","longitude":"-3.041716","clubTel":"01253 346516","parkingRating":5,"openingTimes":null,"clubAddress":"Bloomfield Road, Blackpool, Lancashire, England, FY1 6JL","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":25,"clubName":"Central Bowling Club","clubNameAbbrev":"Central Bowling","latitude":"53.804329","longitude":"-3.041716","clubTel":"01253 341145","parkingRating":2,"openingTimes":"","clubAddress":"9 Bloomfield Road, Blackpool, Lancashire, England, FY1 6JL","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":3,"clubName":"Chequers Social Club","clubNameAbbrev":"Chequers","latitude":"53.753825","longitude":"-2.89335","clubTel":"01772 493745","parkingRating":5,"openingTimes":null,"clubAddress":"Harbour Lane, Warton, Lancashire, England, PR4 1YA","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":65,"clubName":"Excelsior Club","clubNameAbbrev":"Excelsior","latitude":"0","longitude":"0","clubTel":"01253 403219","parkingRating":2,"openingTimes":"","clubAddress":"Lytham Road, Blackpool, Lancashire, England","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":4,"clubName":"Freckleton Sports And Social Club","clubNameAbbrev":"Freckleton","latitude":"53.75386201934392","longitude":"-2.861833870410919","clubTel":"01772 632318","parkingRating":5,"openingTimes":"Monday to Wednesday: 18:30-23:00<br>\r\nThursday to Friday: 11:00-15:00 & 18:30-23:00<br>\r\nSaturday: 11:00-16:00 & 19:00-23:00<br>\r\nSunday: 12:00-22:30","clubAddress":"Preston Old Road, Freckleton, Lancashire, England, PR4 1PB","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":3},{"clubID":5,"clubName":"Hampton Road Social Club","clubNameAbbrev":"Hampton Road","latitude":"53.794618","longitude":"-3.047214","clubTel":"01253 341508","parkingRating":4,"openingTimes":null,"clubAddress":"Hampton Road, Blackpool, Lancashire, England, FY4 1JB","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":6,"clubName":"Kirkham Conservative Club","clubNameAbbrev":"Kirkham Cons","latitude":"53.78091","longitude":"-2.888307","clubTel":"01772 682276","parkingRating":4,"openingTimes":null,"clubAddress":"Ribby Road, Kirkham, Lancashire, England, PR4 2BB","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":7,"clubName":"Land Registry","clubNameAbbrev":"Land Registry","latitude":"53.794026","longitude":"-2.983357","clubTel":"01253 761021","parkingRating":5,"openingTimes":null,"clubAddress":"Co-Op Sports & Social Club, Preston New Road, Blackpool, Lancashire, England, FY4 4RE","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":8,"clubName":"Lightning Club","clubNameAbbrev":"Lightning","latitude":"53.749778","longitude":"-2.886329","clubTel":"01772 679765","parkingRating":4,"openingTimes":"Monday to Friday: 11:00-23:00<br>\r\nSaturday: 19:00-23:00<br>\r\nSunday: 12:00-22:30","clubAddress":"Mill Lane, Warton, Lancashire, England, PR4 1AQ","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":3},{"clubID":23,"clubName":"Lytham Bowling Club","clubNameAbbrev":"Lytham Bowling","latitude":"53.737483","longitude":"-2.964636","clubTel":"01253 739965","parkingRating":4,"openingTimes":null,"clubAddress":"Hastings Place, Lytham, Lancashire, England, FY8 5","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":9,"clubName":"Lytham Catholic Club","clubNameAbbrev":"Lytham Catholic","latitude":"53.737776","longitude":"-2.959141","clubTel":"01253 736337","parkingRating":1,"openingTimes":"Monday to Saturday: 19:00-23:00<br>\r\nSunday: 19:00-22:30","clubAddress":"North Clifton Street, Lytham, Lancashire, England, FY8 5HR","countryName":"England","countryPic":"flag_england.png","img":null,"website":"http://www.lythamcatholicclub.com","teams":4},{"clubID":10,"clubName":"Lytham Ex-Servicemens Club","clubNameAbbrev":"Lytham Ex-Ser","latitude":"53.73782","longitude":"-2.96424","clubTel":"01253 734732","parkingRating":2,"openingTimes":"Monday to Wednesday: 12:00-23:00<br>\r\nThursday to Saturday: 12:00-00:00<br>\r\nSunday: 13:00-23:00","clubAddress":"Chapel Street, Lytham, Lancashire, England, FY8 5ND","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":3},{"clubID":11,"clubName":"Prebonds Social Club","clubNameAbbrev":"Prebonds","latitude":"53.75631","longitude":"-3.011587","clubTel":"01253 725299","parkingRating":3,"openingTimes":"Monday to Friday: 12:00-14:00 & 19:00-23:00<br>\r\nSaturday: 19:00-23:00<br>\r\nSunday: 12:00-22:30","clubAddress":"Shepherd Road, St. Annes, Lancashire, England, FY8 3TQ","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":24,"clubName":"Q's Club","clubNameAbbrev":"Q's Club","latitude":"53.793037","longitude":"-3.049178","clubTel":"01253 346578","parkingRating":1,"openingTimes":"","clubAddress":"249-255 Lytham Road, Blackpool, Lancashire, England, FY1 6","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":67,"clubName":"South Shore Bowling Club","clubNameAbbrev":"South Shore Bowling","latitude":"0","longitude":"0","clubTel":"01253","parkingRating":3,"openingTimes":null,"clubAddress":"SSBC, Lancashire, England","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":16,"clubName":"South Shore Motors","clubNameAbbrev":"South Shore Motors","latitude":"53.849901","longitude":"-2.987629","clubTel":"01253 341233","parkingRating":2,"openingTimes":null,"clubAddress":"11 Station Road, Blackpool, Lancashire, England, FY4 1BE","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":3},{"clubID":12,"clubName":"St. Annes Catholic Club","clubNameAbbrev":"St. Annes Catholic","latitude":"53.75403","longitude":"-3.0237","clubTel":"01253 728486","parkingRating":4,"openingTimes":null,"clubAddress":"St. Albans Road, St. Annes, Lancashire, England, FY8 1XD","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":13,"clubName":"St. Annes Conservative Club","clubNameAbbrev":"St. Annes Cons","latitude":"53.739337","longitude":"-2.992622","clubTel":"01253 723471","parkingRating":3,"openingTimes":null,"clubAddress":"Clifton Drive, St. Annes, Lancashire, England, FY8 2NA","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","clubNameAbbrev":"St. Annes Ex-Ser","latitude":"53.755784","longitude":"-3.016383","clubTel":"01253 721033","parkingRating":3,"openingTimes":null,"clubAddress":"Alexandra Road, St. Annes, Lancashire, England, FY8 1YE","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":5},{"clubID":15,"clubName":"St. Annes Royal British Legion","clubNameAbbrev":"St. Annes Legion","latitude":"53.758497","longitude":"-3.028189","clubTel":"01253 724420","parkingRating":4,"openingTimes":null,"clubAddress":"Mayfield Road, St. Annes, Lancashire, England, FY8 2DR","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":4},{"clubID":17,"clubName":"Stanley Conservative Club","clubNameAbbrev":"Stanley Cons","latitude":"53.782892","longitude":"-3.022693","clubTel":"01253 312302","parkingRating":5,"openingTimes":null,"clubAddress":"Common Edge Road, Blackpool, Lancashire, England, FY4 5AZ","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":28,"clubName":"Stanley St. Annes Casino","clubNameAbbrev":"Stanley St. Annes Casino","latitude":"53.745984","longitude":"-3.028262","clubTel":"01253 724123","parkingRating":4,"openingTimes":"Sunday to Friday: 14:00-06:00<br>Saturday: 14:00-04:00<br>","clubAddress":"South Promenade, St. Annes, Lancashire, England, FY8 1LY","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":0},{"clubID":66,"clubName":"The Links","clubNameAbbrev":"Links","latitude":"53.761778","longitude":"-3.032377","clubTel":"01253 725755","parkingRating":4,"openingTimes":"Midday until Midnight every day.","clubAddress":"Heeley Road, St. Annes, Lancashire, England, FY8 2HS","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":1},{"clubID":18,"clubName":"Victoria Hotel","clubNameAbbrev":"Victoria","latitude":"53.753264","longitude":"-3.011469","clubTel":"01253 721041","parkingRating":5,"openingTimes":null,"clubAddress":"Church Road, St. Annes, Lancashire, England, FY8 3NE","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2},{"clubID":19,"clubName":"Willows Catholic Club","clubNameAbbrev":"Willows","latitude":"53.77954","longitude":"-2.884196","clubTel":"01772 682195","parkingRating":4,"openingTimes":null,"clubAddress":"Bryning Fern Lane, Kirkham, Lancashire, England, PR4 2BQ","countryName":"England","countryPic":"flag_england.png","img":null,"website":null,"teams":2}]));
		if (text && text != "") url += "&name=" + text;
		$.ajax({
			url: url,
			method: "GET",
			success: function(data, textStatus, jqHXR) {
				cb( new DALResponse(200, "ok", data));
			}
		});
	};

	_dal.getTeams = function(leagueID, text, cb)
	{
		var url = _url + "leagues/" + leagueID + "/teams?top=5000";

		if (!_isDevice) return cb(new DALResponse(200, "ok", [{"teamID":1,"teamName":"Ansdell A","nickname":null,"clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":2,"teamName":"Ansdell B","nickname":null,"clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":84,"teamName":"Ansdell P","nickname":"Prebonds","clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":47,"teamName":"Blackpool No.1","nickname":null,"clubID":26,"clubName":"Blackpool No.1 Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":44,"teamName":"Central Bowling","nickname":null,"clubID":25,"clubName":"Central Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":3,"teamName":"Chequers A","nickname":null,"clubID":3,"clubName":"Chequers Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":42,"teamName":"Chequers B","nickname":null,"clubID":3,"clubName":"Chequers Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":83,"teamName":"Excelsior","nickname":"Excelsior","clubID":65,"clubName":"Excelsior Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":41,"teamName":"Freckleton A","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":4,"teamName":"Freckleton B","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":5,"teamName":"Freckleton C","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":38,"teamName":"Hampton Road A","nickname":null,"clubID":5,"clubName":"Hampton Road Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":46,"teamName":"Hampton Road B","nickname":null,"clubID":5,"clubName":"Hampton Road Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":6,"teamName":"Kirkham Cons","nickname":null,"clubID":6,"clubName":"Kirkham Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":7,"teamName":"Land Registry","nickname":null,"clubID":7,"clubName":"Land Registry","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":8,"teamName":"Lightning B","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":9,"teamName":"Lightning C","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":10,"teamName":"Lightning D","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":86,"teamName":"Links","nickname":null,"clubID":66,"clubName":"The Links","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":36,"teamName":"Lytham Bowling","nickname":null,"clubID":23,"clubName":"Lytham Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":11,"teamName":"Lytham Catholic A","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":12,"teamName":"Lytham Catholic B","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":13,"teamName":"Lytham Catholic C","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":14,"teamName":"Lytham Catholic D","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":15,"teamName":"Lytham Ex-Ser A","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":16,"teamName":"Lytham Ex-Ser B","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":40,"teamName":"Lytham Ex-Ser C","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":17,"teamName":"Prebonds A","nickname":null,"clubID":11,"clubName":"Prebonds Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":18,"teamName":"Prebonds B","nickname":null,"clubID":11,"clubName":"Prebonds Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":43,"teamName":"Q's Club","nickname":null,"clubID":24,"clubName":"Q's Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":88,"teamName":"South Shore Bowling A","nickname":null,"clubID":67,"clubName":"South Shore Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":89,"teamName":"South Shore Bowling B","nickname":null,"clubID":67,"clubName":"South Shore Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":37,"teamName":"South Shore Motors","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":28,"teamName":"South Shore Motors A","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":29,"teamName":"South Shore Motors B","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":19,"teamName":"St. Annes Catholic A","nickname":null,"clubID":12,"clubName":"St. Annes Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":87,"teamName":"St. Annes Catholic B","nickname":null,"clubID":12,"clubName":"St. Annes Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":20,"teamName":"St. Annes Cons B","nickname":null,"clubID":13,"clubName":"St. Annes Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":21,"teamName":"St. Annes Cons C","nickname":null,"clubID":13,"clubName":"St. Annes Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":22,"teamName":"St. Annes Ex-Ser A","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":23,"teamName":"St. Annes Ex-Ser B","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":24,"teamName":"St. Annes Ex-Ser C","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":39,"teamName":"St. Annes Ex-Ser D","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":90,"teamName":"St. Annes Ex-Ser X","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":25,"teamName":"St. Annes Legion A","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":26,"teamName":"St. Annes Legion B","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":27,"teamName":"St. Annes Legion C","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":85,"teamName":"St. Annes Legion X","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":30,"teamName":"Stanley Cons A","nickname":null,"clubID":17,"clubName":"Stanley Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":31,"teamName":"Stanley Cons B","nickname":null,"clubID":17,"clubName":"Stanley Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":32,"teamName":"Victoria A","nickname":null,"clubID":18,"clubName":"Victoria Hotel","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":33,"teamName":"Victoria B","nickname":null,"clubID":18,"clubName":"Victoria Hotel","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":34,"teamName":"Willows A","nickname":null,"clubID":19,"clubName":"Willows Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":35,"teamName":"Willows B","nickname":null,"clubID":19,"clubName":"Willows Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"}]));
		if (text && text != "") url += "&name=" + text;
		$.ajax({
			url: url,
			method: "GET",
			success: function(data, textStatus, jqHXR) {
				cb( new DALResponse(200, "ok", data));
			}
		});
	};

	_dal.getClubTeams = function(clubID, text, cb)
	{
		var url = _url + "clubs/" + clubID + "/teams?top=5000";

		if (!_isDevice) return cb(new DALResponse(200, "ok", [{"teamID":1,"teamName":"Ansdell A","nickname":null,"clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":2,"teamName":"Ansdell B","nickname":null,"clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":84,"teamName":"Ansdell P","nickname":"Prebonds","clubID":2,"clubName":"Ansdell Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":47,"teamName":"Blackpool No.1","nickname":null,"clubID":26,"clubName":"Blackpool No.1 Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":44,"teamName":"Central Bowling","nickname":null,"clubID":25,"clubName":"Central Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":3,"teamName":"Chequers A","nickname":null,"clubID":3,"clubName":"Chequers Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":42,"teamName":"Chequers B","nickname":null,"clubID":3,"clubName":"Chequers Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":83,"teamName":"Excelsior","nickname":"Excelsior","clubID":65,"clubName":"Excelsior Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":41,"teamName":"Freckleton A","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":4,"teamName":"Freckleton B","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":5,"teamName":"Freckleton C","nickname":null,"clubID":4,"clubName":"Freckleton Sports And Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":38,"teamName":"Hampton Road A","nickname":null,"clubID":5,"clubName":"Hampton Road Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":46,"teamName":"Hampton Road B","nickname":null,"clubID":5,"clubName":"Hampton Road Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":6,"teamName":"Kirkham Cons","nickname":null,"clubID":6,"clubName":"Kirkham Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":7,"teamName":"Land Registry","nickname":null,"clubID":7,"clubName":"Land Registry","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":8,"teamName":"Lightning B","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":9,"teamName":"Lightning C","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":10,"teamName":"Lightning D","nickname":null,"clubID":8,"clubName":"Lightning Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":86,"teamName":"Links","nickname":null,"clubID":66,"clubName":"The Links","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":36,"teamName":"Lytham Bowling","nickname":null,"clubID":23,"clubName":"Lytham Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":11,"teamName":"Lytham Catholic A","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":12,"teamName":"Lytham Catholic B","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":13,"teamName":"Lytham Catholic C","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":14,"teamName":"Lytham Catholic D","nickname":null,"clubID":9,"clubName":"Lytham Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":15,"teamName":"Lytham Ex-Ser A","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":16,"teamName":"Lytham Ex-Ser B","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":40,"teamName":"Lytham Ex-Ser C","nickname":null,"clubID":10,"clubName":"Lytham Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":17,"teamName":"Prebonds A","nickname":null,"clubID":11,"clubName":"Prebonds Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":18,"teamName":"Prebonds B","nickname":null,"clubID":11,"clubName":"Prebonds Social Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":43,"teamName":"Q's Club","nickname":null,"clubID":24,"clubName":"Q's Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":88,"teamName":"South Shore Bowling A","nickname":null,"clubID":67,"clubName":"South Shore Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":89,"teamName":"South Shore Bowling B","nickname":null,"clubID":67,"clubName":"South Shore Bowling Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":37,"teamName":"South Shore Motors","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":28,"teamName":"South Shore Motors A","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":29,"teamName":"South Shore Motors B","nickname":null,"clubID":16,"clubName":"South Shore Motors","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":19,"teamName":"St. Annes Catholic A","nickname":null,"clubID":12,"clubName":"St. Annes Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":87,"teamName":"St. Annes Catholic B","nickname":null,"clubID":12,"clubName":"St. Annes Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":20,"teamName":"St. Annes Cons B","nickname":null,"clubID":13,"clubName":"St. Annes Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":21,"teamName":"St. Annes Cons C","nickname":null,"clubID":13,"clubName":"St. Annes Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":22,"teamName":"St. Annes Ex-Ser A","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":23,"teamName":"St. Annes Ex-Ser B","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":24,"teamName":"St. Annes Ex-Ser C","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":39,"teamName":"St. Annes Ex-Ser D","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":90,"teamName":"St. Annes Ex-Ser X","nickname":null,"clubID":14,"clubName":"St. Annes Ex-Servicemens Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":25,"teamName":"St. Annes Legion A","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":26,"teamName":"St. Annes Legion B","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":27,"teamName":"St. Annes Legion C","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":85,"teamName":"St. Annes Legion X","nickname":null,"clubID":15,"clubName":"St. Annes Royal British Legion","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":30,"teamName":"Stanley Cons A","nickname":null,"clubID":17,"clubName":"Stanley Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":31,"teamName":"Stanley Cons B","nickname":null,"clubID":17,"clubName":"Stanley Conservative Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":32,"teamName":"Victoria A","nickname":null,"clubID":18,"clubName":"Victoria Hotel","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":33,"teamName":"Victoria B","nickname":null,"clubID":18,"clubName":"Victoria Hotel","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":34,"teamName":"Willows A","nickname":null,"clubID":19,"clubName":"Willows Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"},{"teamID":35,"teamName":"Willows B","nickname":null,"clubID":19,"clubName":"Willows Catholic Club","img":null,"countryPic":"flag_england.png","countryName":"England"}]));
		if (text && text != "") url += "&name=" + text;
		$.ajax({
			url: url,
			method: "GET",
			success: function(data, textStatus, jqHXR) {
				cb( new DALResponse(200, "ok", data));
			}
		});
	};

	$.ajaxSetup({
		contentType: "application/json",
		dataType: "json",
		method: "GET",
		beforeSend: function(jqXHR, settings ) {
			var ret = true;
			if (!UTILS.hasConnection())
			{
				_noconn();
				return false;
			}
			return ret;
		},
		error: function(event, jqXHR, ajaxSettings, thrownError) {
			_dal.onError(new DALResponse(event.status, event.statusText, null));
		}
	});

	return _dal;
})();
